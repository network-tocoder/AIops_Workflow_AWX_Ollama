---
- name: Configure OSPF on reachable IOS devices
  hosts: platforms_ios
  gather_facts: no
  connection: ansible.netcommon.network_cli

  tasks:
    - name: Configure OSPF area 0
      cisco.ios.ios_config:
        lines:
          - router ospf 1
          - network 0.0.0.0 255.255.255.255 area 0

    - name: Verify OSPF configuration
      cisco.ios.ios_command:
        commands:
          - show ip ospf neighbor
      register: ospf_neighbors

    - name: Display OSPF neighbor output
      debug:
        msg: "{{ inventory_hostname }}: {{ ospf_neighbors.stdout[0] }}"
